Inputs:
mp3File,songID

Initialize:
int[] peaks, List<int[]> peakList, int time = 0, double[] pcm, String
hash, TreeMap<String, SongInfo> hashMap

pcm ← Decode(mp3File)
while not isEnd(mp3File) do
  buffer ← Decode(stream,512)
  time += 1
  buffer ← Monophonic(bu f f er)
  buffer ← HammingWindow(bu f f er)
  real fft ← RealFFT(bu f f er)
  peaks ← GetPeaks(real f ft)
  peakList.add(peaks)
  if sizeOf(peakList) = 4 then
    hash ← GenerateHash(peakList)
    hashMap.add(hash, new SongInfo(songID, time))
    peakList.remove(0)
  end if
end while
AddtoDB(hashMap)
